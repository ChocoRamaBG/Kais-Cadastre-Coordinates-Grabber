name: Cadastre_Scraper_V_B

on:
  workflow_dispatch: # –ü–æ–∑–≤–æ–ª—è–≤–∞ —Ç–∏ —Ä—ä—á–Ω–æ –ø—É—Å–∫–∞–Ω–µ —Å –±—É—Ç–æ–Ω–∞ "Run workflow"

jobs:
  build:
    runs-on: ubuntu-latest

    steps:
    - name: üì• Checkout repository
      uses: actions/checkout@v4

    - name: üêç Set up Python
      uses: actions/setup-python@v5
      with:
        python-version: '3.9'

    - name: üõ†Ô∏è Install dependencies
      run: |
        python -m pip install --upgrade pip
        pip install -r requirements.txt

    - name: üöÄ Run Scraper
      # -u –∫–∞–∑–≤–∞ –Ω–∞ Python –¥–∞ –ø—Ä–∏–Ω—Ç–∏—Ä–∞ –≤–µ–¥–Ω–∞–≥–∞ –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç–∏—Ç–µ, –∞ –Ω–µ –¥–∞ —á–∞–∫–∞ –∫—Ä–∞—è
      run: python -u scraper.py

    - name: üì¶ Upload Artifacts
      # –¢–æ–≤–∞ –∑–∞–ø–∞–∑–≤–∞ —Ñ–∞–π–ª–∞, –∑–∞ –¥–∞ –º–æ–∂–µ—à –¥–∞ —Å–∏ –≥–æ –∏–∑—Ç–µ–≥–ª–∏—à
      if: always() # –ö–∞—á–≤–∞ —Ñ–∞–π–ª–∞ –¥–æ—Ä–∏ –∞–∫–æ —Å–∫—Ä–∏–ø—Ç—ä—Ç –≥—Ä—ä–º–Ω–µ –ø–æ —Å—Ä–µ–¥–∞—Ç–∞
      uses: actions/upload-artifact@v4
      with:
        name: coordinates-results
        path: Gathered_Sofia_Coords.xlsx
        retention-days: 5 # –ü–∞–∑–∏ —Ñ–∞–π–ª–∞ 5 –¥–Ω–∏
